{"version":3,"sources":["theme.ts","views/studies/model.ts","views/studies/StudiesToolbar.tsx","views/studies/StudyCard.tsx","api/studies.ts","views/studies/useStudies.ts","views/studies/Studies.tsx","App.tsx","index.tsx"],"names":["theme","space","fonts","body","heading","monospace","fontSizes","fontWeights","bold","lineHeights","colors","text","background","primary","secondary","muted","error","styles","root","fontFamily","lineHeight","fontWeight","h1","color","fontSize","h2","h3","h4","h5","h6","p","a","pre","overflowX","code","table","width","borderCollapse","borderSpacing","th","textAlign","borderBottomStyle","td","img","maxWidth","alerts","bg","badges","draft","border","finished","pending","cards","hoverable","padding","borderRadius","boxShadow","transition","filterOptions","label","value","sortByOptions","type","order","display","justifyContent","position","backgroundColor","StudiesToolbar","filter","sortBy","onChangeFilter","onChangeSortBy","sx","x","includes","options","hideSelectedOptions","closeMenuOnSelect","isMulti","container","minWidth","onChange","option","map","find","flexContainerStyles","height","flexDirection","StudyCard","url","id","study","variant","studyThumbnail","margin","backgroundImage","backgroundRepeat","backgroundPosition","mt","mb","name","Date","createdAt","toLocaleDateString","updatedAt","imagesCount","alignItems","statusKey","getStudies","Promise","resolve","setTimeout","list","initialFilter","initialSortBy","filterBuggedStudies","res","data","useStudies","useRequest","formatResult","loading","useState","setFilter","setSortBy","studies","length","studyFilterPredicate","sort","b","result","localeCompare","getTime","studySorter","changeFilter","changeSortBy","loadingStyles","gridContainerStyles","Studies","containerStyles","paddingTop","gap","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7b161c87.chunk.js","sourcesContent":["import { Theme } from 'theme-ui';\r\n\r\nexport const theme: Theme = {\r\n  space: [\r\n    0,\r\n    4,\r\n    8,\r\n    16,\r\n    32,\r\n    64,\r\n    128,\r\n    256,\r\n    512\r\n  ],\r\n  fonts: {\r\n    body: 'Roboto, system-ui, sans-serif',\r\n    heading: 'Roboto, system-ui, sans-serif',\r\n    monospace: '\"Roboto Mono\", monospace'\r\n  },\r\n  fontSizes: [\r\n    12,\r\n    14,\r\n    16,\r\n    20,\r\n    24,\r\n    32,\r\n    48,\r\n    64,\r\n    96\r\n  ],\r\n  fontWeights: {\r\n    body: 400,\r\n    heading: 600,\r\n    bold: 600\r\n  },\r\n  lineHeights: {\r\n    body: 1.5,\r\n    heading: 1.125\r\n  },\r\n  colors: {\r\n    text: '#202124',\r\n    background: '#fafafa',\r\n    primary: '#1a73e8',\r\n    secondary: '#9c27b0',\r\n    muted: '#f1f3f4',\r\n    error: '#ff0033'\r\n  },\r\n  styles: {\r\n    root: {\r\n      fontFamily: 'body',\r\n      lineHeight: 'body',\r\n      fontWeight: 'body'\r\n    },\r\n    h1: {\r\n      color: 'text',\r\n      fontFamily: 'heading',\r\n      lineHeight: 'heading',\r\n      fontWeight: 'heading',\r\n      fontSize: 5\r\n    },\r\n    h2: {\r\n      color: 'text',\r\n      fontFamily: 'heading',\r\n      lineHeight: 'heading',\r\n      fontWeight: 'heading',\r\n      fontSize: 4\r\n    },\r\n    h3: {\r\n      color: 'text',\r\n      fontFamily: 'heading',\r\n      lineHeight: 'heading',\r\n      fontWeight: 'heading',\r\n      fontSize: 3\r\n    },\r\n    h4: {\r\n      color: 'text',\r\n      fontFamily: 'heading',\r\n      lineHeight: 'heading',\r\n      fontWeight: 'heading',\r\n      fontSize: 2\r\n    },\r\n    h5: {\r\n      color: 'text',\r\n      fontFamily: 'heading',\r\n      lineHeight: 'heading',\r\n      fontWeight: 'heading',\r\n      fontSize: 1\r\n    },\r\n    h6: {\r\n      color: 'text',\r\n      fontFamily: 'heading',\r\n      lineHeight: 'heading',\r\n      fontWeight: 'heading',\r\n      fontSize: 0\r\n    },\r\n    p: {\r\n      color: 'text',\r\n      fontFamily: 'body',\r\n      fontWeight: 'body',\r\n      lineHeight: 'body'\r\n    },\r\n    a: {\r\n      color: 'primary'\r\n    },\r\n    pre: {\r\n      fontFamily: 'monospace',\r\n      overflowX: 'auto',\r\n      code: {\r\n        color: 'inherit'\r\n      }\r\n    },\r\n    code: {\r\n      fontFamily: 'monospace',\r\n      fontSize: 'inherit'\r\n    },\r\n    table: {\r\n      width: '100%',\r\n      borderCollapse: 'separate',\r\n      borderSpacing: 0\r\n    },\r\n    th: {\r\n      textAlign: 'left',\r\n      borderBottomStyle: 'solid'\r\n    },\r\n    td: {\r\n      textAlign: 'left',\r\n      borderBottomStyle: 'solid'\r\n    },\r\n    img: {\r\n      maxWidth: '100%'\r\n    }\r\n  },\r\n  alerts: {\r\n    primary: {\r\n      color: 'background',\r\n      bg: 'primary',\r\n    },\r\n    error: {\r\n      color: 'background',\r\n      bg: 'error',\r\n    },\r\n  },\r\n  badges: {\r\n    draft: {\r\n      bg: 'muted',\r\n      color: 'text',\r\n      border: '1px dashed'\r\n        },\r\n    finished: {\r\n      bg: 'primary'\r\n    },\r\n    pending: {\r\n      bg: 'secondary'\r\n    },\r\n  },\r\n  cards: {\r\n    hoverable: {\r\n      padding: 3,\r\n      borderRadius: 4,\r\n      boxShadow: '0 0 8px rgba(0, 0, 0, 0.125)',\r\n      transition: 'all 0.2s',\r\n      ':hover': {\r\n        boxShadow: '2px 4px 12px rgba(0, 0, 0, 0.125)',\r\n      }\r\n    }\r\n  }\r\n};\r\n","export type StudyStatus = 'pending' | 'draft' | 'finished';\r\n\r\nexport interface StudiesResponse {\r\n  data: Study[];\r\n}\r\n\r\nexport interface Study {\r\n  id: string;\r\n  name: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  statusKey: StudyStatus;\r\n  studyThumbnail: string;\r\n  imagesCount: number;\r\n  tags: string[];\r\n}\r\n\r\nexport interface SortBy {\r\n  type: keyof Pick<Study, 'name' | 'updatedAt'>;\r\n  order: 'asc' | 'desc';\r\n}\r\n\r\nexport interface Option<T> {\r\n  label: string;\r\n  value: T;\r\n  color?: string;\r\n}\r\n\r\nexport const filterOptions: Option<StudyStatus>[] = [{\r\n  label: 'Draft',\r\n  value: 'draft'\r\n},\r\n{\r\n  label: 'Finished',\r\n  value: 'finished'\r\n},\r\n{\r\n  label: 'Pending',\r\n  value: 'pending'\r\n}];\r\n\r\nexport const sortByOptions: Option<SortBy>[] = [{\r\n  label: 'Modified (newest)',\r\n  value: { type: 'updatedAt', order: 'desc' }\r\n},\r\n{\r\n  label: 'Modified (oldest)',\r\n  value: { type: 'updatedAt', order: 'asc' }\r\n},\r\n{\r\n  label: 'Name (A-Z)',\r\n  value: { type: 'name', order: 'asc' }\r\n},\r\n{\r\n  label: 'Name (Z-A)',\r\n  value: { type: 'name', order: 'desc' }\r\n}];\r\n","import React from 'react';\r\nimport Select from 'react-select';\r\nimport { Box, Label, ThemeUICSSObject } from 'theme-ui';\r\nimport { filterOptions, Option, SortBy, sortByOptions, StudyStatus } from './model';\r\n\r\nconst styles: ThemeUICSSObject = {\r\n  display: 'flex',\r\n  justifyContent: 'space-between',\r\n  position: 'fixed',\r\n  width: '100%',\r\n  padding: '16px 32px',\r\n  backgroundColor: 'muted'\r\n};\r\n\r\ninterface Props {\r\n  filter: StudyStatus[];\r\n  sortBy: SortBy;\r\n  onChangeFilter: (filter: StudyStatus[]) => void;\r\n  onChangeSortBy: (sortBy: SortBy) => void;\r\n}\r\n\r\nconst StudiesToolbar: React.FC<Props> = ({\r\n  filter,\r\n  sortBy,\r\n  onChangeFilter,\r\n  onChangeSortBy\r\n}) => {\r\n  return (\r\n    <Box sx={styles}>\r\n      <div>\r\n        <Label>Filter by statuses</Label>\r\n        <Select\r\n          value={filterOptions.filter(x => filter.includes(x.value))}\r\n          options={filterOptions}\r\n          hideSelectedOptions={false}\r\n          closeMenuOnSelect={false}\r\n          isMulti\r\n          styles={{ container: styles => ({ ...styles, minWidth: 250 }) }}\r\n          onChange={(option?: Option<StudyStatus>[]) => onChangeFilter(option?.map(x => x.value))}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Label>Sort by</Label>\r\n        <Select\r\n          value={sortByOptions.find(x => x.value.order === sortBy.order && x.value.type === sortBy.type)}\r\n          options={sortByOptions}\r\n          styles={{ container: styles => ({ ...styles, minWidth: 200 }) }}\r\n          onChange={(option: Option<SortBy>) => onChangeSortBy(option.value)}\r\n        />\r\n      </div>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default StudiesToolbar;","import React from 'react';\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Card,\r\n  Container,\r\n  Flex,\r\n  Heading,\r\n  Text,\r\n  ThemeUICSSObject\r\n} from 'theme-ui';\r\nimport { Study } from './model';\r\n\r\nconst getImageStyles = (url: string, id: string): ThemeUICSSObject => ({\r\n  height: 300,\r\n  width: 200,\r\n  margin: '0 auto',\r\n  backgroundImage: `url('${url}?random=${id}}')`,\r\n  backgroundRepeat: 'no-repeat',\r\n  backgroundPosition: 'center center'\r\n});\r\n\r\nconst flexContainerStyles: ThemeUICSSObject = {\r\n  height: '100%',\r\n  flexDirection: 'column',\r\n  justifyContent: 'space-between'\r\n};\r\n\r\ninterface Props {\r\n  study: Study;\r\n}\r\n\r\nconst StudyCard: React.FC<Props> = ({ study }) => {\r\n  return (\r\n    <Card variant=\"hoverable\">\r\n      <Flex sx={flexContainerStyles}>\r\n        <Container>\r\n          <Box sx={getImageStyles(study.studyThumbnail, study.id)} />\r\n          <Heading mt={2} mb={2} sx={{ textAlign: 'center' }}>\r\n            {study.name}\r\n          </Heading>\r\n        </Container>\r\n\r\n        <Container>\r\n          <Text>\r\n            {`Created on: ${new Date(study.createdAt).toLocaleDateString('lt-LT')}`}\r\n          </Text>\r\n          <Text>\r\n            {`Modified on: ${new Date(study.updatedAt).toLocaleDateString('lt-LT')}`}\r\n          </Text>\r\n          <Flex mt={2} sx={{ justifyContent: 'space-between' }}>\r\n            <Text>{`Images: ${study.imagesCount}`}</Text>\r\n            <Flex sx={{ alignItems: 'center' }}>\r\n              <Badge variant={study.statusKey}>{study.statusKey}</Badge>\r\n            </Flex>\r\n          </Flex>\r\n        </Container>\r\n      </Flex>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default StudyCard;","import list from './mocks/list.json';\r\nimport { StudiesResponse } from '../views/studies/model';\r\n\r\nexport const getStudies = async (): Promise<StudiesResponse> => {\r\n  await new Promise(resolve => setTimeout(resolve, 2000));\r\n  return list as StudiesResponse;\r\n};","import { useRequest } from '@umijs/hooks';\r\nimport { useState } from 'react';\r\nimport { getStudies } from '../../api/studies';\r\nimport { SortBy, StudiesResponse, Study, StudyStatus } from './model';\r\n\r\nconst initialFilter: StudyStatus[] = ['finished'];\r\nconst initialSortBy: SortBy = { type: 'updatedAt', order: 'desc' };\r\n\r\nconst studyFilterPredicate = (filter: StudyStatus[]) => (study: Study) => {\r\n  return !filter.length || filter.includes(study.statusKey);\r\n};\r\n\r\nconst studySorter = (sortBy: SortBy) => (a: Study, b: Study) => {\r\n  let result: number;\r\n  switch (sortBy.type) {\r\n    case 'name':\r\n      result = a.name.localeCompare(b.name);\r\n      break;\r\n    case 'updatedAt':\r\n      result = new Date(a.updatedAt).getTime() - new Date(b.updatedAt).getTime();\r\n      break;\r\n  }\r\n\r\n  return sortBy.order === 'asc' ? result : result * -1;\r\n};\r\n\r\nconst filterBuggedStudies = (res: StudiesResponse) => {\r\n  return res.data.filter(x => !x.name.includes('buggy'));\r\n};\r\n\r\nexport const useStudies = () => {\r\n  const { data, loading, error } = useRequest(getStudies, { formatResult: filterBuggedStudies });\r\n  const [filter, setFilter] = useState<StudyStatus[]>(initialFilter);\r\n  const [sortBy, setSortBy] = useState<SortBy>(initialSortBy);\r\n\r\n  const filteredAndSortedStudies = () =>\r\n    (data || [])\r\n      .filter(studyFilterPredicate(filter))\r\n      .sort(studySorter(sortBy));\r\n\r\n  const changeFilter = (filter: StudyStatus[]) => {\r\n    setFilter(filter);\r\n  };\r\n\r\n  const changeSortBy = (sortBy: SortBy) => {\r\n    setSortBy(sortBy);\r\n  };\r\n\r\n  return {\r\n    studies: filteredAndSortedStudies(),\r\n    loading,\r\n    error,\r\n    filter,\r\n    sortBy,\r\n    changeFilter,\r\n    changeSortBy\r\n  };\r\n};","import React from 'react';\r\nimport { Alert, Container, Grid, Spinner, ThemeUICSSObject } from 'theme-ui';\r\nimport StudiesToolbar from './StudiesToolbar';\r\nimport StudyCard from './StudyCard';\r\nimport { useStudies } from './useStudies';\r\n\r\nconst loadingStyles: ThemeUICSSObject = {\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  height: '100%'\r\n};\r\n\r\nconst gridContainerStyles: ThemeUICSSObject = {\r\n  display: 'block'\r\n};\r\n\r\nconst Studies: React.FC = () => {\r\n  const {\r\n    studies,\r\n    loading,\r\n    error,\r\n    filter,\r\n    sortBy,\r\n    changeFilter,\r\n    changeSortBy\r\n  } = useStudies();\r\n\r\n  const containerStyles = loading ? loadingStyles : gridContainerStyles;\r\n\r\n  return (\r\n    <>\r\n      <StudiesToolbar\r\n        filter={filter}\r\n        sortBy={sortBy}\r\n        onChangeFilter={changeFilter}\r\n        onChangeSortBy={changeSortBy}\r\n      />\r\n\r\n      <Container p={4} sx={{ ...containerStyles, paddingTop: 6 }}>\r\n        {loading&& <Spinner />}\r\n        {error && <Alert variant=\"error\">Error handled!</Alert>}\r\n        {studies.length > 0 && (\r\n          <Grid gap={4} width={240} sx={{ width: '100%' }}>\r\n            {studies.map(x => <StudyCard key={x.id} study={x} />)}\r\n          </Grid>\r\n        )}\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Studies;","import React from 'react';\nimport { Container, ThemeProvider, ThemeUICSSObject } from 'theme-ui';\nimport { theme } from './theme';\nimport Studies from './views/studies/Studies';\n\nconst styles: ThemeUICSSObject = {\n  display: 'flex',\n  flexDirection: 'column',\n  height: '100vh',\n  backgroundColor: theme.colors?.background\n};\n\nconst App = () => (\n  <ThemeProvider theme={theme}>\n    <Container sx={styles}>\n      <Studies />\n    </Container>\n  </ThemeProvider>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}